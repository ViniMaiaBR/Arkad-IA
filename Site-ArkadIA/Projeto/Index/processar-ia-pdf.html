<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Processar IA e Gerar PDF - ARKAD AI</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        /* Esconder header/elementos quando embutido via ?embed=1 */
        body.embed header { display: none !important; }
        body.embed .animated-background { display: none !important; }
        body.embed .processor-container { padding-top: 20px; }
        .processor-container {
            max-width: 1200px;
            margin: 100px auto 0 auto; /* compensa header fixo */
            padding: 40px 20px;
        }

        .processor-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .processor-section h2 {
            color: var(--primary-color);
            font-size: 24px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            color: var(--text-color);
            font-weight: 600;
            font-size: 14px;
        }

        .form-group input,
        .form-group textarea {
            padding: 12px 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-color);
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            background: rgba(255, 255, 255, 0.15);
        }

        .form-group textarea {
            min-height: 200px;
            resize: vertical;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .ai-text-area {
            min-height: 500px;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
    

        .btn-process {
            background: linear-gradient(135deg, var(--primary-color), #00a8a8);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
            width: 100%;
        }

        .btn-process:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 181, 184, 0.3);
        }

        .btn-process:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .preview-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .preview-section h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .preview-content {
            background: white;
            color: #333;
            padding: 20px;
            border-radius: 8px;
            max-height: 500px;
            overflow-y: auto;
            font-family: 'Inter', sans-serif;
        }

        .status-message {
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-weight: 600;
            display: none;
        }

        .status-success {
            background: rgba(40, 167, 69, 0.2);
            color: #28a745;
            border: 1px solid rgba(40, 167, 69, 0.3);
        }

        .status-error {
            background: rgba(220, 53, 69, 0.2);
            color: #dc3545;
            border: 1px solid rgba(220, 53, 69, 0.3);
        }

        .examples-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .example-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .example-card:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }

        .example-card h4 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .example-card p {
            color: var(--light-text);
            font-size: 14px;
            margin-bottom: 15px;
        }

        .example-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .example-btn:hover {
            background: #00a8a8;
        }

        .prompt-note {
            margin-top: 10px;
            color: var(--light-text);
            font-size: 12px;
            opacity: 0.9;
        }

        .processing-indicator {
            display: none;
            text-align: center;
            padding: 20px;
            color: var(--primary-color);
        }

        .processing-indicator i {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Estilo para logo clicável */
        .logo {
            transition: all 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
            filter: brightness(1.1);
        }

        /* Botão de voltar ao chat */
        .btn-back {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            border-radius: 20px;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            background: transparent;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-back:hover {
            background: rgba(0, 181, 184, 0.12);
            transform: translateY(-1px);
        }

        .back-wrapper {
            padding: 0 20px;
            margin: 100px 0 10px 0; /* abaixo do header fixo */
        }

        .prompts-wrapper {
            padding: 0 20px;
            margin: 20px 0 60px 0;
        }

        .prompts-container {
            max-width: 1200px;
            margin: 0 auto 0 auto;
            padding: 0 20px;
        }
    </style>
</head>
<body>
    <canvas id="neural-bg"></canvas>
    <div class="animated-background">
        <div class="dots">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
    </div>

    <header>
        <nav class="navbar">
            <div class="logo" onclick="window.location.href='index.html'" style="cursor: pointer;">
                <img src="../images/logo.svg" alt="Logo ARKAD AI">
                <span>ARKAD AI</span>
            </div>
            <div class="nav-links">
                <a href="index.html">INÍCIO</a>
                <a href="sobre.html">SOBRE & SERVIÇOS</a>
                <a href="planos.html">PLANOS</a>
                <a href="contato.html">CONTATO</a>
            </div>
        </nav>
    </header>
 
    <div class="back-wrapper">
        <a href="chat.html" class="btn-back"><i class="fas fa-comments"></i> Voltar ao Chat com IA</a>
    </div>

    <div class="processor-container">
        <div class="processor-section">
            <h2><i class="fas fa-robot"></i> Processar Texto da IA e Gerar PDF</h2>
            <p style="color: var(--light-text); margin-bottom: 30px;">
                Cole o texto gerado pela IA e o sistema irá processar e gerar um PDF profissional baseado no template ExemploRelatorio.
            </p>

            <form id="aiProcessorForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="clientName">Nome do Cliente</label>
                        <input type="text" id="clientName" placeholder="Ex: João Silva" value="Vinicius Silva">
                    </div>
                    <div class="form-group">
                        <label for="companyName">Nome da Empresa</label>
                        <input type="text" id="companyName" placeholder="Ex: Empresa ABC" value="Arkad Consultoria Empresarial">
                    </div>
                </div>

                <div class="form-group">
                    <label for="reportTitle">Título do Relatório</label>
                    <input type="text" id="reportTitle" placeholder="Ex: Proposta de Expansão" value="Proposta de Expansão – Escritório Adicional">
                </div>

                <div class="form-group full-width">
                    <label for="aiText">Texto da IA (Cole aqui o resultado da análise)</label>
                    <textarea id="aiText" class="ai-text-area" placeholder="Cole aqui o texto completo gerado pela IA...">Relatório Estratégico Arkad AI

Proposta de Expansão – Escritório Adicional

Cliente: Vinicius Silva
Empresa: Arkad Consultoria Empresarial
Data: 23/10/2025
Consultora de IA: Arkad AI – Unidade Estratégica de Negócios

Objetivo do Projeto

O cliente solicitou à Arkad AI a elaboração de um plano estratégico e financeiro para abertura de um escritório adicional, com base em análise de viabilidade, estimativa de custos, previsão de ROI e diretrizes operacionais.

A meta principal é expandir as operações para uma nova localidade com foco em:
- Aumentar a capacidade de atendimento em 40%;
- Reduzir prazos médios de entrega de serviços em até 25%;
- Estabelecer uma presença física estratégica para impulsionar a captação de novos clientes corporativos.

1. Diagnóstico e Contexto Atual

Situação Atual:
A Arkad AI opera atualmente em Santo André (SP), com estrutura física e equipe enxuta, focada em consultoria tecnológica e estratégica.

Motivos para Expansão:
- Crescimento constante da demanda em outras regiões do estado;
- Necessidade de equipe híbrida (presencial + remota) para projetos empresariais;
- Maior proximidade com clientes de médio e grande porte.

2. Estratégia de Implementação

Desenvolvimento de estratégia em 3 fases principais:
- Fase 1: Planejamento e Instalação (0–3 meses)
- Fase 2: Operação Piloto (4–12 meses)  
- Fase 3: Consolidação e Escala (13–24 meses)

3. Plano Estratégico – Fases de Execução

Fase 1: Planejamento e Instalação (0–3 meses)
- Pesquisa e locação de espaço comercial (80–120 m²);
- Contratação de equipe-base (2 analistas, 1 coordenador, 1 assistente);
- Implantação de infraestrutura digital e mobiliário.
Custo Estimado: R$ 110.000

Fase 2: Operação Piloto (4–12 meses)
- Início das atividades comerciais e parcerias locais;
- Testes de novos canais de atendimento híbrido;
- Avaliação mensal de fluxo de caixa e KPIs de aquisição de clientes.
Custo Operacional: R$ 85.000

Fase 3: Consolidação e Escala (13–24 meses)
- Ampliação da equipe conforme aumento de contratos;
- Implantação de automações com IA (atendimento, análise de dados e orçamentos);
- Consolidação da marca Arkad AI na nova região.
Investimento Adicional: R$ 55.000

4. Stack Operacional Recomendado

Tecnologias e ferramentas recomendadas:
- CRM: HubSpot Starter / Bitrix24
- Contabilidade: Conta Azul / Omie
- Comunicação: Google Workspace + Zoom
- IA Interna: Arkad AI + ChatGPT API
- Infraestrutura: AWS ou Hostinger Cloud

5. Análise de Riscos e Mitigações

Principais riscos identificados:
- Atraso na entrega do imóvel (Médio impacto)
- Falta de mão de obra qualificada (Alto impacto)
- Subutilização do espaço (Médio impacto)
- Desalinhamento de metas (Alto impacto)

Estratégias de mitigação incluem cláusulas contratuais, treinamentos internos, aluguel compartilhado e revisões trimestrais.

6. Projeção Financeira Simplificada

Investimento Total: R$ 250.000
Receita Projetada: R$ 320.000
ROI Estimado: 28% ao ano
Prazo de Retorno: 24 meses

Conclusão

A análise conduzida pela Arkad AI indica que a abertura do novo escritório em Campinas é financeiramente viável e estrategicamente alinhada com os objetivos de expansão da empresa.

A projeção sugere retorno positivo em até 24 meses, com ganhos operacionais, fortalecimento da marca e ampliação da base de clientes regionais.

Recomendação final: Prosseguir com o plano piloto de 12 meses, priorizando a automação de tarefas administrativas e integração total com o sistema de IA Arkad para maximizar o retorno sobre investimento.</textarea>
                </div>

                <div class="processing-indicator" id="processingIndicator">
                    <i class="fas fa-spinner"></i>
                    <p>Processando texto da IA e gerando PDF...</p>
                </div>

                <button type="submit" class="btn-process" id="processBtn">
                    <i class="fas fa-file-pdf"></i>
                    Processar IA e Gerar PDF
                </button>
            </form>

            <div class="status-message" id="statusMessage"></div>


                </div>

        

        <div class="processor-section">
            <h2><i class="fas fa-eye"></i> Pré-visualização do PDF</h2>
            <div class="preview-section">
                <h3>Visualização do Relatório</h3>
                <div class="preview-content" id="previewContent">
                    <p style="text-align: center; color: #666; font-style: italic;">
                        Preencha o formulário acima para ver a pré-visualização do PDF
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="prompts-wrapper">
        <div class="prompts-container">
            <div class="processor-section">
                <h2 style="display:flex; align-items:center; gap:10px; color: var(--primary-color);"><i class="fas fa-lightbulb"></i> Perguntas que pode fazer para IA</h2>
                <p style="color: var(--light-text); margin-bottom: 20px;">
                    Use um dos passo-a-passo abaixo para guiar seu diálogo com a IA.
                </p>
                <div class="examples-section" id="promptsContainer">
                    <p style="color: var(--light-text);">Carregando prompts...</p>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>EMPRESA</h3>
                <p>Plataforma inteligente de consultoria empresarial que combina tecnologia e análise de mercado para orientar decisões estratégicas, otimizar investimentos e impulsionar o crescimento de empresas de todos os portes.</p>
            </div>
            
            <div class="footer-section">
                <h3>PRODUTOS</h3>
                <ul>
                    <li><a href="#">IA Personalizada</a></li>
                    <li><a href="#">Análise de Dados</a></li>
                    <li><a href="#">Automação</a></li>
                    <li><a href="#">Consultoria</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>LINKS ÚTEIS</h3>
                <ul>
                    <li><a href="nossa-equipe.html">Nossa Equipe</a></li>
                    <li><a href="nossa-missao.html">Nossa Missão</a></li>
                    <li><a href="planos.html">Planos</a></li>
                    <li><a href="contato.html">Contato</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>CONTATO</h3>
                <ul>
                    <li><i class="fas fa-home"></i> São Paulo, SP 01234-000, BR</li>
                    <li><i class="fas fa-envelope"></i> contato@arkadia.com</li>
                    <li><i class="fas fa-phone"></i> +55 11 4002-8922</li>
                    <li><i class="fas fa-print"></i> +55 11 1234 5679</li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>© 2025 Copyright: <a href="#">ARKAD AI</a></p>
        </div>
    </footer>

    <script src="../js/neural-background.js"></script>
    <script src="../js/pdf-generator.js"></script>
    <script src="../js/ai-text-processor.js"></script>
    <script src="../js/escritorio-ti-flow.js"></script>
    <script>
        // Ativar modo embutido quando ?embed=1
        (function(){
            try {
                const params = new URLSearchParams(window.location.search);
                if (params.get('embed') === '1') {
                    document.body.classList.add('embed');
                }
            } catch (e) {}
        })();
        // Carregar dados do chat se estiver vindo de lá
        window.onload = function() {
            const chatReportData = localStorage.getItem('chatReportData');
            if (chatReportData) {
                try {
                    const data = JSON.parse(chatReportData);
                    
                    // Preencher campos do formulário com os dados do chat
                    if (data.title) document.getElementById('reportTitle').value = data.title;
                    if (data.client) document.getElementById('clientName').value = data.client;
                    if (data.company) document.getElementById('companyName').value = data.company;
                    if (data.text) document.getElementById('aiText').value = data.text;
                    
                    // Limpar localStorage após carregar
                    localStorage.removeItem('chatReportData');
                    
                    // Atualizar preview
                    updatePreview();
                } catch (error) {
                    console.error('Erro ao carregar dados do chat:', error);
                }
            }
        };
        
        // Carregar prompts de arquivos .txt da pasta Prompts
        const promptDefinitions = [
            { id: 'expansao', title: 'Expansão de Negócios', file: '../Prompts/EXPANSÃO DE NEGÓCIOS.txt' },
            { id: 'automacao', title: 'Automação de Processos', file: '../Prompts/AUTOMAÇÃO DE PROCESSOS.txt' },
            { id: 'marketing', title: 'Estratégia de Marketing', file: '../Prompts/ESTRATÉGIA DE MARKETING.txt' }
        ];

        const promptsMap = {};

        async function loadPrompts() {
            const container = document.getElementById('promptsContainer');
            if (!container) return;
            container.innerHTML = '';

            for (const def of promptDefinitions) {
                try {
                    const res = await fetch(def.file);
                    if (!res.ok) throw new Error('Erro ao carregar ' + def.file);
                    const text = await res.text();
                    promptsMap[def.id] = text;
                    const firstLine = (text.split(/\r?\n/)[0] || '').trim();

                    const card = document.createElement('div');
                    card.className = 'example-card';
                    card.innerHTML = `
                        <h4>${def.title}</h4>
                        <p style="white-space: pre-line; color: var(--light-text); font-size: 14px; max-height: 130px; overflow: hidden;">${firstLine.replace(/</g, '&lt;').replace(/>/g, '&gt;')}</p>
                        <div class="prompt-note">Volte para o chat e ele irá te fazer as perguntas.</div>
                        <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:center;">
                            <button class="example-btn" data-action="chat" data-id="${def.id}">Deixa a IA me fazer as perguntas</button>
                        </div>
                    `;
                    container.appendChild(card);
                } catch (e) {
                    const errorCard = document.createElement('div');
                    errorCard.className = 'example-card';
                    errorCard.innerHTML = `<h4>${def.title}</h4><p style="color: var(--light-text);">Não foi possível carregar o prompt (${def.file}).</p>`;
                    container.appendChild(errorCard);
                }
            }

            container.addEventListener('click', async (ev) => {
                const btn = ev.target.closest('button');
                if (!btn) return;
                const id = btn.getAttribute('data-id');
                const action = btn.getAttribute('data-action');
                const content = promptsMap[id];
                if (!content) return;

                if (action === 'chat') {
                    window.location.href = 'chat.html';
                }
            });
        }

        // Atualizar pré-visualização
        function updatePreview() {
            const title = document.getElementById('reportTitle').value;
            const client = document.getElementById('clientName').value;
            const company = document.getElementById('companyName').value;
            const aiText = document.getElementById('aiText').value;

            if (!aiText.trim()) {
                document.getElementById('previewContent').innerHTML = `
                    <p style="text-align: center; color: #666; font-style: italic;">
                        Cole o texto da IA para ver a pré-visualização
                    </p>
                `;
                return;
            }

            // Processar texto da IA
            const context = {
                title: title,
                subtitle: title,
                client: client,
                company: company
            };

            const processedData = window.aiTextProcessor.processAIText(aiText, context);
            const htmlContent = window.aiTextProcessor.generateReportHTML(processedData);
            
            document.getElementById('previewContent').innerHTML = htmlContent;
        }

        // Processar formulário
        document.getElementById('aiProcessorForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const processBtn = document.getElementById('processBtn');
            const processingIndicator = document.getElementById('processingIndicator');
            const statusMessage = document.getElementById('statusMessage');
            
            processBtn.disabled = true;
            processingIndicator.style.display = 'block';
            statusMessage.style.display = 'none';

            try {
                const title = document.getElementById('reportTitle').value;
                const client = document.getElementById('clientName').value;
                const company = document.getElementById('companyName').value;
                const aiText = document.getElementById('aiText').value;

                if (!aiText.trim()) {
                    throw new Error('Por favor, cole o texto da IA para processar');
                }

                const context = {
                    title: title,
                    subtitle: title,
                    client: client,
                    company: company
                };

                // Gerar PDF
                const result = await window.generateAIReportPDF(aiText, context);

                if (result.success) {
                    statusMessage.className = 'status-message status-success';
                    statusMessage.innerHTML = `<i class="fas fa-check-circle"></i> ${result.message}`;
                } else {
                    statusMessage.className = 'status-message status-error';
                    statusMessage.innerHTML = `<i class="fas fa-exclamation-circle"></i> ${result.message}`;
                }
                statusMessage.style.display = 'block';

            } catch (error) {
                console.error('Erro ao processar IA:', error);
                statusMessage.className = 'status-message status-error';
                statusMessage.innerHTML = `<i class="fas fa-exclamation-circle"></i> Erro: ${error.message}`;
                statusMessage.style.display = 'block';
            } finally {
                processBtn.disabled = false;
                processingIndicator.style.display = 'none';
            }
        });

        // Atualizar pré-visualização quando campos mudarem
        ['reportTitle', 'clientName', 'companyName', 'aiText'].forEach(id => {
            document.getElementById(id).addEventListener('input', updatePreview);
        });

        // Pré-visualização inicial
        updatePreview();
        loadPrompts();
    </script>
    <script src="../js/header-scroll.js"></script>
</body>
</html>
